<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/core">
  <body jsf:id="body">
    <ui:composition template="./_main.xhtml">
      <ui:define name="content">
        <form class="grid__form graph-form" jsf:id="graphForm">
          <div class="quote">
            <span class="quote__speaker">Kaiki Ahiru</span>
            #{graphForm.quote}
          </div>

          <section class="graph-form__columns">
            <div class="graph-form__input-column">
              <div class="graph-form__field">
                <label class="graph-form__label">R</label>
                <p:inputText class="graph-form__input" id="r" value="#{graphForm.r}" validator="#{graphForm.validateR}" placeholder="R" type="number" />
                <p:slider for="r" minValue="2" maxValue="5" step="0.1" />
              </div>
              <div class="graph-form__field">
                <label class="graph-form__label">X</label>
                <h:inputText class="graph-form__input" id="x" name="x" value="#{graphForm.x}" validator="#{graphForm.validateX}" placeholder="X"></h:inputText>
              </div>
              <div class="graph-form__field">
                <label class="graph-form__label">Y</label>
                <h:inputText class="graph-form__input" id="y" name="y" value="#{graphForm.y}" validator="#{graphForm.validateY}" placeholder="Y"></h:inputText>
              </div>
            </div>

            <div class="graph-container graph-form__graph-column">
              <h:outputText value="#{graph.render()}" escape="false" />
            </div>
          </section>

          <div>
            <h:messages id="msgs" />
            <h:commandButton class="graph-form__button" value="Решить" action="#{graphForm.compute}" />
            <a class="graph-form__button" jsf:action="#{navigation.history()}">Воспоминания</a>
          </div>
        </form>
      </ui:define>
    </ui:composition>
  </body>
</html>
